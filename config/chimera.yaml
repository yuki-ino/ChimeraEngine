# ğŸ¦ Chimera Engine - ãƒ¡ã‚¤ãƒ³è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
# ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§Chimera Engineã®å‹•ä½œã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã§ãã¾ã™

# åŸºæœ¬è¨­å®š
chimera:
  version: "0.0.1"
  session_name: "chimera-workspace"
  legacy_session: "multiagent"
  debug_mode: false
  strict_mode: true

# ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹è¨­å®š
workspace:
  # ä¸€æ™‚ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãƒ™ãƒ¼ã‚¹ï¼ˆç’°å¢ƒå¤‰æ•°TMPDIRã‚’ä½¿ç”¨ï¼‰
  base_dir: "${TMPDIR:-/tmp}/chimera-workspace-$$"
  
  # ã‚µãƒ–ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  directories:
    status: "status"
    logs: "logs"
    temp: "tmp"
    backup: "backup"
  
  # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ¨©é™
  permissions: "755"
  
  # ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—è¨­å®š
  cleanup:
    auto_cleanup: true
    max_log_files: 100
    max_log_age_days: 7
    temp_file_patterns:
      - "*.tmp"
      - "chimera_*.temp"
      - "tmux_*.sock"

# ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆè¨­å®š
agents:
  # ç¾åœ¨ã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ–°ã—ã„ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼‰
  current:
    pm:
      pane: "chimera-workspace:0.0"
      title: "PM"
      color: "1;31m"
      role: "ãƒ—ãƒ­ãƒ€ã‚¯ãƒˆãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼"
      description: "ä¼ç”»ãƒ»è¦ä»¶å®šç¾©ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†"
      startup_script: "pm-improved.md"
      
    coder:
      pane: "chimera-workspace:0.1"
      title: "Coder"
      color: "1;36m"
      role: "ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯é–‹ç™ºè€…"
      description: "Frontend/Backend/Mobile å…¨å¯¾å¿œ"
      startup_script: "coder.md"
      
    qa-functional:
      pane: "chimera-workspace:0.2"
      title: "QA-Func"
      color: "1;33m"
      role: "æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆæ‹…å½“"
      description: "æ©Ÿèƒ½ãƒ†ã‚¹ãƒˆãƒ»ãƒã‚°æ¤œå‡º"
      startup_script: "qa-functional.md"
      
    qa-lead:
      pane: "chimera-workspace:0.3"
      title: "QA-Lead"
      color: "1;31m"
      role: "å“è³ªç®¡ç†ãƒ»ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š"
      description: "å“è³ªç®¡ç†ãƒ»ãƒªãƒªãƒ¼ã‚¹åˆ¤å®š"
      startup_script: "qa-lead.md"
      
    monitor:
      pane: "chimera-workspace:0.4"
      title: "Monitor"
      color: "1;35m"
      role: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ"
      description: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç›£è¦–ãƒ»ãƒ¬ãƒãƒ¼ãƒˆ"
      startup_script: null
  
  # ãƒ¬ã‚¬ã‚·ãƒ¼ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆï¼ˆæ—§ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¨ã®äº’æ›æ€§ï¼‰
  legacy:
    president:
      pane: "president:0"
      title: "President"
      role: "æœ€é«˜æŒ‡æ®å®˜"
      startup_script: "president.md"
      
    boss1:
      pane: "multiagent:0.0"
      title: "Boss1"
      role: "ãƒãƒ¼ãƒ ãƒªãƒ¼ãƒ€ãƒ¼"
      startup_script: "boss.md"
      
    worker1:
      pane: "multiagent:0.1"
      title: "Worker1"
      role: "ä½œæ¥­å“¡"
      startup_script: "worker.md"
      
    worker2:
      pane: "multiagent:0.2"
      title: "Worker2"
      role: "ä½œæ¥­å“¡"
      startup_script: "worker.md"
      
    worker3:
      pane: "multiagent:0.3"
      title: "Worker3"
      role: "ä½œæ¥­å“¡"
      startup_script: "worker.md"

# tmuxè¨­å®š
tmux:
  # ã‚»ãƒƒã‚·ãƒ§ãƒ³è¨­å®š
  session:
    mouse_support: true
    status_bar: true
    base_index: 0
    
  # ãƒšã‚¤ãƒ³è¨­å®š
  panes:
    # ãƒšã‚¤ãƒ³åˆ†å‰²æ¯”ç‡ï¼ˆãƒ‘ãƒ¼ã‚»ãƒ³ãƒˆï¼‰
    layout:
      pm_height: 33        # ä¸Š1/3
      coder_height: 33     # ä¸­1/3
      qa_width_1: 33       # ä¸‹1/3ã®å·¦
      qa_width_2: 50       # ä¸‹1/3ã®ä¸­å¤®ã¨å³ã®åˆ†å‰²
    
    # ãƒšã‚¤ãƒ³ãƒœãƒ¼ãƒ€ãƒ¼
    border_style: "single"
    active_border_color: "green"
    
  # ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‰
  keybindings:
    prefix: "C-b"
    mouse_select: true
    copy_mode: "vi"

# Claude Codeè¨­å®š
claude:
  # èµ·å‹•è¨­å®š
  startup:
    command: "claude --dangerously-skip-permissions"
    auto_auth: true
    auth_code: "2"  # Accept
    startup_wait: 5
    auth_retry_wait: 3
    max_retries: 3
    
  # èªè¨¼è¨­å®š
  authentication:
    auto_accept: true
    skip_warnings: true

# ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆè¨­å®š
timeouts:
  # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆç§’ï¼‰
  default: 30
  
  # ç‰¹å®šæ“ä½œã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ
  operations:
    session_create: 60
    claude_startup: 120
    command_execution: 300
    test_execution: 600
    
  # ç›£è¦–è¨­å®š
  monitoring:
    check_interval: 30
    max_checks: 10
    health_check_timeout: 10

# ãƒ­ã‚°è¨­å®š
logging:
  # ãƒ­ã‚°ãƒ¬ãƒ™ãƒ«
  level: "INFO"  # DEBUG, INFO, WARN, ERROR
  
  # ãƒ­ã‚°å½¢å¼
  format:
    timestamp: true
    level: true
    agent: true
    
  # ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š
  files:
    communication: "communication.log"
    errors: "errors/error_{id}.log"
    pm_workflow: "pm_workflow.log"
    development: "development.log"
    qa_functional: "qa_functional.log"
    qa_lead: "qa_lead.log"
    monitoring: "monitoring.log"
    
  # ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
  rotation:
    max_size_mb: 10
    max_files: 50
    compress: true

# ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼è¨­å®š
workflow:
  # PMå°‚ç”¨ã‚³ãƒãƒ³ãƒ‰
  pm_commands:
    check_dev: "pm-workflow-controller.sh check-dev"
    status_all: "pm-workflow-controller.sh status-all"
    wait_qa: "pm-workflow-controller.sh wait-for-qa"
    
  # è‡ªå‹•åŒ–è¨­å®š
  automation:
    auto_notify_qa: true
    auto_status_update: true
    auto_cleanup: true
    
  # ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³
  status_files:
    planning_complete: "planning_complete.txt"
    coding_done: "coding_done.txt"
    test_passed: "test_passed.txt"
    test_failed: "test_failed.txt"
    release_ready: "release_ready.txt"
    critical_error: "critical_error.flag"

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè§£æè¨­å®š
project_analysis:
  # è§£æãƒ•ã‚¡ã‚¤ãƒ«
  analysis_file: ".chimera/project-analysis.json"
  custom_tester_file: "instructions/tester-custom.md"
  
  # æ¤œå‡ºå¯¾è±¡
  frameworks:
    javascript:
      - "jest"
      - "vitest" 
      - "cypress"
      - "playwright"
      - "mocha"
      - "chai"
    python:
      - "pytest"
      - "unittest"
    other:
      - "cargo test"
      - "go test"
      - "mvn test"
      - "./gradlew test"
      
  # è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³
  config_patterns:
    - "*config.js"
    - "*config.ts"
    - "*config.json"
    - "*.ini"
    - "*.toml"
    - "*.yaml"
    - "*.yml"

# ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­å®š
error_handling:
  # ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ«
  strict_mode: true
  debug_mode: false
  
  # ã‚¨ãƒ©ãƒ¼é€šçŸ¥
  notifications:
    critical_errors: true
    error_emails: false
    slack_webhook: null
    
  # å›å¾©è¨­å®š
  recovery:
    auto_retry: true
    max_retries: 3
    retry_delay: 5
    
  # ã‚¨ãƒ©ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«è¨­å®š
  error_files:
    max_error_logs: 50
    error_retention_days: 30

# å¤–éƒ¨ã‚³ãƒãƒ³ãƒ‰è¨­å®š
external_commands:
  required:
    - "tmux"
    - "git"
    - "curl"
    - "grep"
    - "awk"
    - "sed"
    
  optional:
    - "jq"
    - "yq"
    - "wget"
    - "nc"
    
  # ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¦ä»¶
  version_requirements:
    tmux: ">=3.0"
    git: ">=2.0"

# ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®š
security:
  # ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™
  file_permissions:
    scripts: "755"
    configs: "644"
    logs: "640"
    temp: "600"
    
  # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ¨©é™
  directory_permissions:
    workspace: "755"
    logs: "750"
    temp: "700"
    
  # æ©Ÿå¯†æƒ…å ±è¨­å®š
  sensitive_patterns:
    - "password"
    - "secret"
    - "token"
    - "key"
    - "credential"

# é–‹ç™ºè¨­å®š
development:
  # ãƒ†ã‚¹ãƒˆè¨­å®š
  testing:
    framework: "bash_test"
    parallel: false
    verbose: false
    timeout: 300
    
  # ãƒ‡ãƒãƒƒã‚°è¨­å®š
  debug:
    trace_commands: false
    log_function_calls: false
    performance_monitoring: false
    
  # ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°
  profiling:
    enabled: false
    output_file: "profile.log"

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«è¨­å®š
installation:
  # ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  install_dir: "${CHIMERA_DIR:-$HOME/.chimera}"
  
  # ãƒªãƒã‚¸ãƒˆãƒªè¨­å®š
  repository:
    url: "https://github.com/yuki-ino/ChimeraEngine.git"
    branch: "main"
    
  # ä¾å­˜é–¢ä¿‚ç¢ºèª
  dependency_check: true
  
  # PATHè¨­å®š
  auto_path_setup: true
  shell_configs:
    - "$HOME/.bashrc"
    - "$HOME/.zshrc"

# ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºè¨­å®š
customization:
  # ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  user_config_dir: "$HOME/.chimera/user"
  
  # ã‚«ã‚¹ã‚¿ãƒ è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«
  custom_configs:
    - "user_agents.yaml"
    - "user_workflows.yaml"
    - "user_shortcuts.yaml"
    
  # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³è¨­å®š
  plugins:
    enabled: false
    directory: "plugins"
    auto_load: true